# æ•°æ®ç»Ÿè®¡æ¨¡å—è®¾è®¡

## åŠŸèƒ½æ¦‚è¿°

æ•°æ®ç»Ÿè®¡æ¨¡å—ç”¨äºå±•ç¤ºçˆ¬è™«ç³»ç»Ÿçš„è¿è¡ŒçŠ¶æ€å’Œæ–°é—»æ•°æ®åˆ†æã€‚

## ç»Ÿè®¡ç»´åº¦

### 1. æ¦‚è§ˆå¡ç‰‡
- **æ€»æ–‡ç« æ•°**: news è¡¨æ€»è®°å½•æ•°
- **å·²çˆ¬å–**: status = 'crawled' çš„æ•°é‡
- **å¾…çˆ¬å–**: status = 'pending' çš„æ•°é‡
- **çˆ¬å–å¤±è´¥**: status = 'failed' çš„æ•°é‡
- **ä»Šæ—¥æ–°å¢**: ä»Šå¤© created_at çš„æ•°é‡
- **æœ¬å‘¨æ–°å¢**: æœ¬å‘¨ created_at çš„æ•°é‡

### 2. æ—¶é—´è¶‹åŠ¿åˆ†æ
- **çˆ¬å–è¶‹åŠ¿å›¾**: æŒ‰å¤©ç»Ÿè®¡çˆ¬å–æ•°é‡ï¼ˆæœ€è¿‘30å¤©ï¼‰
- **å‘å¸ƒæ—¶é—´åˆ†å¸ƒ**: æŒ‰æœˆç»Ÿè®¡æ–‡ç« å‘å¸ƒæ—¶é—´åˆ†å¸ƒ

### 3. åˆ†ç±»ç»Ÿè®¡
- **åœ°åŒºåˆ†å¸ƒ**: æŒ‰ region å­—æ®µç»Ÿè®¡é¥¼å›¾
- **æ¥æºåˆ†å¸ƒ**: æŒ‰ source_name å­—æ®µç»Ÿè®¡ Top 10
- **ä½œè€…æ’è¡Œ**: æŒ‰ author å­—æ®µç»Ÿè®¡ Top 10

### 4. å†…å®¹åˆ†æ
- **æ–‡ç« é•¿åº¦åˆ†å¸ƒ**: æŒ‰ content_text é•¿åº¦åˆ†æ®µç»Ÿè®¡
- **æœ‰å›¾æ–‡ç« å æ¯”**: images ä¸ä¸ºç©ºçš„æ¯”ä¾‹
- **æ ‡ç­¾è¯äº‘**: tags å­—æ®µç»Ÿè®¡ï¼ˆå¦‚æœ‰æ•°æ®ï¼‰

### 5. çˆ¬å–æ€§èƒ½
- **çˆ¬å–æˆåŠŸç‡**: crawled / (crawled + failed) * 100%
- **å¹³å‡çˆ¬å–é€Ÿåº¦**: æ¯å°æ—¶çˆ¬å–æ–‡ç« æ•°
- **çˆ¬å–ä¼šè¯å†å²**: crawl_sessions è¡¨æ•°æ®

## API è®¾è®¡

### GET /api/stats/overview
æ¦‚è§ˆç»Ÿè®¡æ•°æ®
```json
{
  "total": 188,
  "crawled": 150,
  "pending": 30,
  "failed": 8,
  "todayCount": 20,
  "weekCount": 100,
  "successRate": 94.9
}
```

### GET /api/stats/trend?days=30
æ—¶é—´è¶‹åŠ¿æ•°æ®
```json
{
  "crawlTrend": [
    { "date": "2024-01-01", "count": 10 },
    ...
  ],
  "publishTrend": [
    { "month": "2024-01", "count": 50 },
    ...
  ]
}
```

### GET /api/stats/distribution
åˆ†ç±»åˆ†å¸ƒæ•°æ®
```json
{
  "regions": [
    { "name": "åˆè‚¥", "count": 50 },
    ...
  ],
  "sources": [
    { "name": "å®‰å¾½æ—¥æŠ¥", "count": 30 },
    ...
  ],
  "authors": [
    { "name": "å¼ ä¸‰", "count": 20 },
    ...
  ]
}
```

### GET /api/stats/content
å†…å®¹åˆ†ææ•°æ®
```json
{
  "lengthDistribution": [
    { "range": "0-500", "count": 20 },
    { "range": "500-1000", "count": 50 },
    { "range": "1000-2000", "count": 80 },
    { "range": "2000+", "count": 38 }
  ],
  "withImages": 120,
  "withoutImages": 68,
  "topTags": [
    { "tag": "ç»æµ", "count": 30 },
    ...
  ]
}
```

## é¡µé¢è®¾è®¡

### å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ•°æ®ç»Ÿè®¡                            [åˆ·æ–°] [è¿”å›] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ æ€»æ–‡ç«  â”‚ â”‚ å·²çˆ¬å– â”‚ â”‚ å¾…çˆ¬å– â”‚ â”‚  å¤±è´¥  â”‚        â”‚
â”‚  â”‚  188  â”‚ â”‚  150  â”‚ â”‚  30   â”‚ â”‚   8   â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ä»Šæ—¥æ–°å¢â”‚ â”‚æœ¬å‘¨æ–°å¢â”‚ â”‚   æˆåŠŸç‡ 94.9%   â”‚        â”‚
â”‚  â”‚  20   â”‚ â”‚  100  â”‚ â”‚   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘    â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  çˆ¬å–è¶‹åŠ¿ï¼ˆæœ€è¿‘30å¤©ï¼‰                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚          ğŸ“ˆ æŠ˜çº¿å›¾                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚    åœ°åŒºåˆ†å¸ƒ       â”‚ â”‚    æ¥æº Top 10    â”‚      â”‚
â”‚  â”‚   ğŸ¥§ é¥¼å›¾         â”‚ â”‚   ğŸ“Š æŸ±çŠ¶å›¾        â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚   ä½œè€…æ’è¡Œ Top10  â”‚ â”‚   æ–‡ç« é•¿åº¦åˆ†å¸ƒ     â”‚      â”‚
â”‚  â”‚   ğŸ“Š æŸ±çŠ¶å›¾       â”‚ â”‚   ğŸ“Š æŸ±çŠ¶å›¾        â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æŠ€æœ¯é€‰å‹

### å›¾è¡¨åº“
ä½¿ç”¨ **Recharts** - åŸºäº React çš„å›¾è¡¨åº“
- è½»é‡çº§
- æ”¯æŒå“åº”å¼
- ä¸ React ç”Ÿæ€è‰¯å¥½é›†æˆ
- æ”¯æŒæŠ˜çº¿å›¾ã€æŸ±çŠ¶å›¾ã€é¥¼å›¾ç­‰

### å®‰è£…ä¾èµ–
```bash
pnpm add recharts
```

## æ–‡ä»¶ç»“æ„

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ stats/
â”‚   â”‚   â””â”€â”€ page.tsx          # ç»Ÿè®¡é¡µé¢
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ stats/
â”‚           â”œâ”€â”€ overview/
â”‚           â”‚   â””â”€â”€ route.ts  # æ¦‚è§ˆæ•°æ®
â”‚           â”œâ”€â”€ trend/
â”‚           â”‚   â””â”€â”€ route.ts  # è¶‹åŠ¿æ•°æ®
â”‚           â”œâ”€â”€ distribution/
â”‚           â”‚   â””â”€â”€ route.ts  # åˆ†å¸ƒæ•°æ®
â”‚           â””â”€â”€ content/
â”‚               â””â”€â”€ route.ts  # å†…å®¹åˆ†æ
â””â”€â”€ components/
    â””â”€â”€ charts/
        â”œâ”€â”€ OverviewCards.tsx    # æ¦‚è§ˆå¡ç‰‡
        â”œâ”€â”€ TrendChart.tsx       # è¶‹åŠ¿å›¾
        â”œâ”€â”€ RegionPieChart.tsx   # åœ°åŒºé¥¼å›¾
        â””â”€â”€ RankingChart.tsx     # æ’è¡Œå›¾
```
